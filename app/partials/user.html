<div class="row tp-user">
  <div class="col-lg-6">
    <form name="userForm" accept-charset="UTF-8" class="form-horizontal">
      <div class="form-group">
        <label class="tp-photo control-label col-sm-3"><span class="glyphicon glyphicon-user"></span></label>
        <label for="name" class="control-label hidden">Полное имя</label>
        <div class="col-sm-9">
          <input id="name" name="name" type="text" ng-model="user.name" placeholder="Полное имя" class="form-control input-lg">
        </div>
      </div>
      <div class="form-group">
        <label for="email" class="control-label col-sm-3">Эл.почта</label>
        <div class="col-sm-9">
          <input id="email" name="email" type="text" ng-model="user.email" placeholder="Эл.почта" class="form-control input-sm">
        </div>
      </div>
      <div class="form-group" ng-hide="user._id === operator._id && operator.superadmin">
        <label for="admin" class="control-label col-sm-3">Администратор</label>
        <div class="col-sm-9">
          <input id="admin" name="admin" type="checkbox" ng-model="user.admin" ng-disabled="operator._id == user._id" class="form-control input-sm">
        </div>
      </div>
      <div class="form-group" ng-hide="user._id === operator._id && operator.superadmin">
        <label for="password" class="control-label col-sm-3">Пароль</label>
        <div class="col-sm-9">
          <input id="password" name="password" type="password" ng-model="user.password" placeholder="Пароль" class="form-control input-sm">
        </div>
      </div>
      <div class="form-group" ng-hide="user._id === operator._id && operator.superadmin">
        <label for="confirmation" class="control-label col-sm-3">Подтверждение</label>
        <div class="col-sm-9">
          <input id="confirmation" name="confirmation" type="password" ng-model="user.confirmation" placeholder="Подтверждение" class="form-control input-sm">
        </div>
      </div>
      <div ng-if="user._id !== operator._id && operator.superadmin" class="form-group" ng-repeat="(right,data) in operator.knownRights">
        <label for="rights-{{right}}" class="control-label col-sm-3">Права: {{data.name}}</label>
        <div class="col-sm-9">
          <label class="col-sm-3" ng-repeat="(action, hr) in data.values">
            {{hr}}<input type="checkbox" checklist-model="user.rights[right]" checklist-value="action" class="form-control input-sm rights-{{right | lowercase}}-{{action | lowercase}}">
          </label>
        </div>
      </div>
      <button name="submit" class="btn btn-sm btn-primary" ng-hide="user._id === operator._id && operator.superadmin" ng-disabled="userForm.$pristine" ng-click="save()">{{(user._id) ? 'Изменить' : 'Создать'}}</button>
    </form>
  </div>
</div>
